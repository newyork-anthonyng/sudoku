(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{61:function(e,n,t){},62:function(e,n,t){},98:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t(0),a=t.n(r),i=t(52),s=t.n(i),u=(t(61),t(62),t(23)),l=t(2),o=t(12),d=t(7),j=t(18),b=t.n(j),f=t(53);var h={idle:Symbol("idle"),pending:Symbol("pending"),resolved:Symbol("resolved"),rejected:Symbol("rejected")},v={status:h.idle,data:null,error:null};var O=function(e){var n=a.a.useRef(Object(d.a)(Object(d.a)({},v),e)),t=a.a.useReducer((function(e,n){return Object(d.a)(Object(d.a)({},e),n)}),n.current),c=Object(o.a)(t,2),r=c[0],i=r.status,s=r.data,u=r.error,l=function(e){var n=a.a.useRef(!1);return a.a.useLayoutEffect((function(){return n.current=!0,function(){return n.current=!1}}),[]),a.a.useCallback((function(){n.current&&e.apply(void 0,arguments)}),[e])}(c[1]),j=a.a.useCallback((function(e){if(!e||!e.then)throw new Error("The argument passed to useAsync().run must be a promise.");return l({status:h.pending}),e.then((function(e){return l({data:e,status:h.resolved}),e}),(function(e){l({status:h.rejected,error:e})}))}),[l]),b=a.a.useCallback((function(e){return l({data:e})}),[l]);return{isIdle:i===h.idle,isLoading:i===h.pending,isError:i===h.rejected,isSuccess:i===h.resolved,error:u,data:s,run:j,setData:b}};function p(e,n){var t="".concat("https://shielded-lowlands-16910.herokuapp.com","/games/").concat(e);return fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()}))}function m(e){var n=function(n){return function(){e.onSelect(n)}},t=b()("number-picker",{"number-picker--disabled":e.disabled}),r=b()("number-picker__button",{"number-picker__button--disabled":e.disabled});return Object(c.jsxs)("div",{className:t,children:[Object(c.jsx)("button",{className:r,onClick:n(1),children:"1"}),Object(c.jsx)("button",{className:r,onClick:n(2),children:"2"}),Object(c.jsx)("button",{className:r,onClick:n(3),children:"3"}),Object(c.jsx)("button",{className:r,onClick:n(4),children:"4"}),Object(c.jsx)("button",{className:r,onClick:n(5),children:"5"}),Object(c.jsx)("button",{className:r,onClick:n(6),children:"6"}),Object(c.jsx)("button",{className:r,onClick:n(7),children:"7"}),Object(c.jsx)("button",{className:r,onClick:n(8),children:"8"}),Object(c.jsx)("button",{className:r,onClick:n(9),children:"9"})]})}var x=function(){var e=Object(l.g)().gameId,n=a.a.useRef([]);function t(e,n){var t=e.slice(),c=n.x,r=n.y,a=n.value,i=t[c].slice(),s=Object(d.a)(Object(d.a)({},i[r]),{},{value:a});return i[r]=s,t[c]=i,t}var r=a.a.useRef();a.a.useEffect((function(){r.current=Object(f.io)("wss://shielded-lowlands-16910.herokuapp.com"),r.current.on("new_message",w)}),[]);var i=a.a.useState(),s=Object(o.a)(i,2),u=s[0],j=s[1],h=O({data:[{}]}),v=h.data,x=h.error,g=h.isError,y=h.isIdle,k=h.isLoading,C=h.isSuccess,S=h.run,N=h.setData,w=function(e){var c=t(n.current,e);N(c),n.current=c};a.a.useEffect((function(){S(function(e){var n="".concat("https://shielded-lowlands-16910.herokuapp.com","/games/").concat(e);return fetch(n).then((function(e){return e.json()})).then((function(e){return e.grid}))}(e)).then((function(e){n.current=e}))}),[]);var _=function(e){var n=e.x,t=e.y,c=e.filled;return function(){j({x:n,y:t,filled:c})}};return y||k?Object(c.jsx)("p",{children:"Loading game..."}):g?Object(c.jsxs)("div",{children:["Something went wrong...",Object(c.jsx)("pre",{children:JSON.stringify(x)})]}):C?Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"grid",children:v.map((function(e,n){return Object(c.jsx)("div",{className:"row",children:e.map((function(e,n){var t=e.value,r=e.filled,a=e.x,i=e.y,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.x,t=e.y,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c.x,a=c.y;return n===r||t===a}(u,{x:a,y:i}),l=b()("square",{"square--highighted":s,"square--selected":u&&a===u.x&&i===u.y}),o=b()("square__input","square__input--unfilled",{"square__input--filled-by-user":0!==t});return Object(c.jsx)("div",{className:l,children:r?Object(c.jsx)("div",{className:"square__input square__input--filled",onClick:_({x:a,y:i,filled:r}),children:t}):Object(c.jsx)("div",{className:o,onClick:_({x:a,y:i,filled:r}),children:t||" "})},n)}))},n)}))}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){var c=Object(d.a)(Object(d.a)({},u),{},{value:0}),r=t(v,c);N(r),n.current=r,p(e,c)},disabled:"undefined"===typeof u||u.filled,children:"Delete"})}),Object(c.jsx)(m,{onSelect:function(c){if(u&&!u.filled){var r=Object(d.a)(Object(d.a)({},u),{},{value:c}),a=t(v,r);N(a),n.current=a,p(e,r)}},disabled:"undefined"===typeof u||u.filled})]}):void 0},g=t(35),y=t.n(g),k=t(55),C="".concat("https://shielded-lowlands-16910.herokuapp.com","/games/new");function S(){return fetch(C).then((function(e){return e.json()}))}var N={idle:Symbol("idle"),pending:Symbol("pending"),resolved:Symbol("resolved"),rejected:Symbol("rejected")};var w=function(){var e=Object(r.useState)(N.idle),n=Object(o.a)(e,2),t=n[0],a=n[1],i=Object(r.useState)(),s=Object(o.a)(i,2),u=s[0],d=s[1];function j(){return(j=Object(k.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(N.pending),e.next=3,S();case 3:n=e.sent,d(n.id),a(N.resolved);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t===N.idle?Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){return j.apply(this,arguments)},children:"New Game"})}):t===N.pending?Object(c.jsx)("div",{children:Object(c.jsx)("p",{children:"Creating new game..."})}):t===N.resolved?Object(c.jsx)("div",{children:Object(c.jsx)(l.a,{to:"games/".concat(u)})}):void 0};var _=function(){return Object(c.jsx)(u.a,{children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{path:"/games/:gameId",children:Object(c.jsx)(x,{})}),Object(c.jsx)(l.b,{path:"/",children:Object(c.jsx)(w,{})})]})})},q=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,99)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),c(e),r(e),a(e),i(e)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(_,{})}),document.getElementById("root")),q()}},[[98,1,2]]]);
//# sourceMappingURL=main.3bf951c8.chunk.js.map